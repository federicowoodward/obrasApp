<p-toast></p-toast>

<div class="p-4">
  <h2 class="mb-3">{{ headerTitle }}</h2>

  <form [formGroup]="form" class="flex flex-column gap-3" (ngSubmit)="save()">
    <p-iftalabel>
      <label for="title">TÃ­tulo</label>
      <input id="title" pInputText formControlName="title" autocomplete="off" />
    </p-iftalabel>

    <p-editor formControlName="text" [style]="{ height: '320px' }"></p-editor>

    <div class="flex gap-2 align-items-center">
      <button
        pButton
        type="button"
        label="Volver"
        class="p-button-text"
        (click)="navigateBack()"
        [disabled]="busy"
      ></button>
      <span class="flex-1"></span>

      <button
        *ngIf="mode === 'edit'"
        pButton
        type="button"
        icon="pi pi-trash"
        label="Eliminar"
        severity="danger"
        (click)="confirmDelete($event)"
        [disabled]="busy"
      ></button>

      <button
        pButton
        type="submit"
        icon="pi pi-save"
        [label]="mode === 'edit' ? 'Guardar' : 'Crear'"
        [disabled]="form.invalid || busy"
      ></button>
    </div>
  </form>
</div>

<p-confirmPopup></p-confirmPopup>
